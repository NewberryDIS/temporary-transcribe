import{S as Y,i as Z,s as ee,k as d,l as m,m as h,h as u,n as p,b as G,g as k,f as te,d as O,a2 as ae,T as se,a3 as le,y as Q,z as U,A as W,B as X,v as re,a as x,q as P,c as T,r as w,a4 as ne,G as i,I as oe}from"../chunks/index.c29d431c.js";import{p as J}from"../chunks/stores.ce99d9d4.js";import{C as ie,P as ce}from"../chunks/progressbar.8fbbfb9d.js";const ue=async({fetch:o})=>({data:await(await o("/api/items")).json()}),ge=Object.freeze(Object.defineProperty({__proto__:null,load:ue},Symbol.toStringTag,{value:"Module"}));function K(o,t,n){const s=o.slice();return s[3]=t[n],s}function fe(o){let t,n,s,a,f,e,r,l=o[3].title+"",$,S,g,H=o[3].pagecount+"",q,j,D,b,M=o[3].description+"",z,A,y,v,C,I;return v=new ce({props:{val:o[3].percentComplete}}),{c(){t=d("div"),n=d("header"),s=d("img"),f=x(),e=d("section"),r=d("h3"),$=P(l),S=x(),g=d("p"),q=P(H),j=P(" pages."),D=x(),b=d("p"),z=P(M),A=x(),y=d("footer"),Q(v.$$.fragment),C=x(),this.h()},l(c){t=m(c,"DIV",{class:!0});var _=h(t);n=m(_,"HEADER",{class:!0});var N=h(n);s=m(N,"IMG",{src:!0,alt:!0,class:!0}),N.forEach(u),f=T(_),e=m(_,"SECTION",{class:!0});var E=h(e);r=m(E,"H3",{class:!0});var R=h(r);$=w(R,l),R.forEach(u),S=T(E),g=m(E,"P",{class:!0});var B=h(g);q=w(B,H),j=w(B," pages."),B.forEach(u),D=T(E),b=m(E,"P",{class:!0});var V=h(b);z=w(V,M),V.forEach(u),E.forEach(u),A=T(_),y=m(_,"FOOTER",{});var F=h(y);U(v.$$.fragment,F),F.forEach(u),_.forEach(u),C=T(c),this.h()},h(){ne(s.src,a=o[3].image.replace("/original/","/square_thumbnails/"))||p(s,"src",a),p(s,"alt",""),p(s,"class","svelte-1ixttid"),p(n,"class","svelte-1ixttid"),p(r,"class","title svelte-1ixttid"),p(g,"class","pagecount svelte-1ixttid"),p(b,"class","desc svelte-1ixttid"),p(e,"class","svelte-1ixttid"),p(t,"class","tile-liner svelte-1ixttid")},m(c,_){G(c,t,_),i(t,n),i(n,s),i(t,f),i(t,e),i(e,r),i(r,$),i(e,S),i(e,g),i(g,q),i(g,j),i(e,D),i(e,b),i(b,z),i(t,A),i(t,y),W(v,y,null),G(c,C,_),I=!0},p:oe,i(c){I||(k(v.$$.fragment,c),I=!0)},o(c){O(v.$$.fragment,c),I=!1},d(c){c&&u(t),X(v),c&&u(C)}}}function L(o){let t,n;return t=new ie({props:{href:"/"+o[3].id,$$slots:{default:[fe]},$$scope:{ctx:o}}}),{c(){Q(t.$$.fragment)},l(s){U(t.$$.fragment,s)},m(s,a){W(t,s,a),n=!0},p(s,a){const f={};a&64&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){n||(k(t.$$.fragment,s),n=!0)},o(s){O(t.$$.fragment,s),n=!1},d(s){X(t,s)}}}function pe(o){let t,n,s=o[0],a=[];for(let e=0;e<s.length;e+=1)a[e]=L(K(o,s,e));const f=e=>O(a[e],1,1,()=>{a[e]=null});return{c(){t=d("div");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=m(e,"DIV",{class:!0});var r=h(t);for(let l=0;l<a.length;l+=1)a[l].l(r);r.forEach(u),this.h()},h(){p(t,"class","grid svelte-1ixttid")},m(e,r){G(e,t,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(t,null);n=!0},p(e,[r]){if(r&1){s=e[0];let l;for(l=0;l<s.length;l+=1){const $=K(e,s,l);a[l]?(a[l].p($,r),k(a[l],1)):(a[l]=L($),a[l].c(),k(a[l],1),a[l].m(t,null))}for(re(),l=s.length;l<a.length;l+=1)f(l);te()}},i(e){if(!n){for(let r=0;r<s.length;r+=1)k(a[r]);n=!0}},o(e){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)O(a[r]);n=!1},d(e){e&&u(t),ae(a,e)}}}function _e(o,t,n){let s;se(o,J,e=>n(2,s=e));let{data:a}=t;const f=a.data.sort((e,r)=>e.featured===r.featured?parseInt(e.percentComplete)-parseInt(r.percentComplete):e.featured?-1:1);return le(J,s="Newberry Transcribe",s),o.$$set=e=>{"data"in e&&n(1,a=e.data)},[f,a]}class ve extends Y{constructor(t){super(),Z(this,t,_e,pe,ee,{data:1})}}export{ve as component,ge as universal};
