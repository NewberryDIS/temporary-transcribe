{"version":3,"file":"_server.ts-2e3ac167.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/pages/_server.ts.js"],"sourcesContent":["import { d as db } from \"../../../../chunks/database.js\";\nimport { j as json } from \"../../../../chunks/index.js\";\nconst GET = async (event) => {\n  let itemid = event.url.searchParams.get(\"itemid\");\n  console.log(itemid);\n  let pages = await db.page.findMany({\n    where: { itemid: parseInt(itemid) }\n  });\n  let item = await db.item.findUnique({\n    where: { id: parseInt(itemid) }\n  });\n  event.setHeaders({\n    \"Cache-Control\": \"public, max-age=0, s-maxage=60\"\n  });\n  const retVal = {\n    pages,\n    item\n  };\n  return json(retVal);\n};\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;AAEK,MAAC,GAAG,GAAG,OAAO,KAAK,KAAK;AAC7B,EAAE,IAAI,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACpD,EAAE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACtB,EAAE,IAAI,KAAK,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC;AACrC,IAAI,KAAK,EAAE,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE;AACvC,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,IAAI,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC;AACtC,IAAI,KAAK,EAAE,EAAE,EAAE,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE;AACnC,GAAG,CAAC,CAAC;AACL,EAAE,KAAK,CAAC,UAAU,CAAC;AACnB,IAAI,eAAe,EAAE,gCAAgC;AACrD,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,MAAM,GAAG;AACjB,IAAI,KAAK;AACT,IAAI,IAAI;AACR,GAAG,CAAC;AACJ,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC;AACtB;;;;"}